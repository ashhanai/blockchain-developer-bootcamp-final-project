(this["webpackJsonpblockchain-developer-bootcamp-final-project-client"]=this["webpackJsonpblockchain-developer-bootcamp-final-project-client"]||[]).push([[0],{112:function(e,t){},113:function(e,t){},125:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(45),s=n.n(i),c=n(49),o=(n(108),n(95)),u=n(18),p=n(19),l=n(6),d=n(1),y={nftList:[],setNftList:function(){},offerList:[],setOfferList:function(){},loanList:[],setLoanList:function(){},txnStatus:"NOT_SUBMITTED",setTxnStatus:function(){},lastTxnHash:"",setLastTxnHash:function(){}},f=function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_NFT_LIST":return Object(l.a)(Object(l.a)({},e),{},{nftList:a});case"SET_OFFER_LIST":return Object(l.a)(Object(l.a)({},e),{},{offerList:a});case"SET_LOAN_LIST":return Object(l.a)(Object(l.a)({},e),{},{loanList:a});case"SET_TXN_STATUS":return Object(l.a)(Object(l.a)({},e),{},{txnStatus:a});case"SET_LAST_TXN_HASH":return Object(l.a)(Object(l.a)({},e),{},{lastTxnHash:a});default:return e}},b=Object(a.createContext)(y),m=function(){return r.a.useContext(b)},j=function(e){var t=e.children,n=Object(a.useReducer)(f,y),r=Object(p.a)(n,2),i=r[0],s=r[1],c={nftList:i.nftList,setNftList:function(e){s({type:"SET_NFT_LIST",payload:e})},offerList:i.offerList,setOfferList:function(e){s({type:"SET_OFFER_LIST",payload:e})},loanList:i.loanList,setLoanList:function(e){s({type:"SET_LOAN_LIST",payload:e})},txnStatus:i.txnStatus,setTxnStatus:function(e){s({type:"SET_TXN_STATUS",payload:e})},lastTxnHash:i.lastTxnHash,setLastTxnHash:function(e){s({type:"SET_LAST_TXN_HASH",payload:e})}};return Object(d.jsx)(b.Provider,{value:c,children:t})},O=n(4),h=n.n(O),x=n(21),T=n(128),v=n(129),w=function(){var e=Object(u.b)().account,t=m(),n=t.nftList,a=t.setNftList,r=function(){var t=Object(x.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=12;break}return t.next=3,fetch("https://rinkeby-api.opensea.io/api/v1/assets?owner="+e);case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent.assets.map((function(e){return{id:e.token_id,address:e.asset_contract.address,symbol:e.asset_contract.symbol,name:e.asset_contract.name}})),console.log("Fetched nft list:"),console.log(r),a(r),t.next=13;break;case 12:a([]);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{nftList:n,fetchNftList:r}},L=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0}],g=n(50),A=function(e,t){var n=Object(u.b)(),r=n.library,i=n.account,s=i?r.getSigner(i).connectUnchecked():r;return Object(a.useMemo)((function(){return new g.b(e,t,s)}),[e,t,s])},k=function(e){var t=Object(u.b)().active,n=m(),a=(n.txnStatus,n.setTxnStatus),r=n.setLastTxnHash,i=A(e,L),s=function(){var e=Object(x.a)(h.a.mark((function e(n,s){var c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.prev=1,a("LOADING"),e.next=5,i.approve(n,s);case 5:return c=e.sent,e.next=8,c.wait(1);case 8:o=e.sent,console.log(o),a("COMPLETE"),r(o.transactionHash),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a("ERROR");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(x.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,i.getApproved(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{approve:s,getApproved:c}},I=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"loanId",type:"uint256"},{indexed:!0,internalType:"address",name:"lender",type:"address"},{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!0,internalType:"uint256",name:"collateralId",type:"uint256"}],name:"LoanOfferAccepted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"lender",type:"address"},{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!0,internalType:"uint256",name:"collateralId",type:"uint256"}],name:"LoanOfferCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"lender",type:"address"}],name:"LoanOfferRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"loanId",type:"uint256"},{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!0,internalType:"uint256",name:"collateralId",type:"uint256"}],name:"LoanPaidBack",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"loanId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"loans",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum P2PLoan.LoanState",name:"state",type:"uint8"},{internalType:"address",name:"borrower",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"uint256",name:"acceptedOfferId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"offerId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"offers",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum P2PLoan.LoanOfferState",name:"state",type:"uint8"},{internalType:"address",name:"collateral",type:"address"},{internalType:"uint256",name:"collateralId",type:"uint256"},{internalType:"address",name:"credit",type:"address"},{internalType:"uint256",name:"creditAmount",type:"uint256"},{internalType:"uint256",name:"creditToBePaidAmount",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"address",name:"lender",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_collateralId",type:"uint256"},{internalType:"address",name:"_credit",type:"address"},{internalType:"uint256",name:"_creditAmount",type:"uint256"},{internalType:"uint256",name:"_creditToBePaidAmount",type:"uint256"},{internalType:"uint256",name:"_duration",type:"uint256"}],name:"createLoanOffer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"revokeLoanOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"acceptLoanOffer",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_loanId",type:"uint256"}],name:"payBackLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_loanId",type:"uint256"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_loanId",type:"uint256"}],name:"getLoanStatus",outputs:[{internalType:"enum P2PLoan.LoanState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOfferList",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum P2PLoan.LoanOfferState",name:"state",type:"uint8"},{internalType:"address",name:"collateral",type:"address"},{internalType:"uint256",name:"collateralId",type:"uint256"},{internalType:"address",name:"credit",type:"address"},{internalType:"uint256",name:"creditAmount",type:"uint256"},{internalType:"uint256",name:"creditToBePaidAmount",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"address",name:"lender",type:"address"}],internalType:"struct P2PLoan.LoanOffer[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLoanList",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"enum P2PLoan.LoanState",name:"state",type:"uint8"},{internalType:"address",name:"borrower",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"uint256",name:"acceptedOfferId",type:"uint256"}],internalType:"struct P2PLoan.Loan[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}],E="0x029Abdf94998006e72A7DaaBB7D18945f9764368",M=function(){var e=Object(u.b)(),t=e.active,n=(e.account,A(E,I)),a=m(),r=(a.txnStatus,a.setTxnStatus),i=a.setLastTxnHash,s=function(){var e=Object(x.a)(h.a.mark((function e(a,s,c,o,u,p){var l,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,r("LOADING"),e.next=5,n.createLoanOffer(a,s,c,o,u,p);case 5:return l=e.sent,e.next=8,l.wait(1);case 8:d=e.sent,console.log(d),r("COMPLETE"),i(d.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),r("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,a,r,i,s){return e.apply(this,arguments)}}(),c=function(){var e=Object(x.a)(h.a.mark((function e(a){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,r("LOADING"),e.next=5,n.revokeLoanOffer(a);case 5:return s=e.sent,e.next=8,s.wait(1);case 8:c=e.sent,console.log(c),r("COMPLETE"),i(c.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),r("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(h.a.mark((function e(a){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,r("LOADING"),e.next=5,n.acceptLoanOffer(a);case 5:return s=e.sent,e.next=8,s.wait(1);case 8:c=e.sent,console.log(c),r("COMPLETE"),i(c.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),r("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(x.a)(h.a.mark((function e(a,s,c){var o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,r("LOADING"),e.next=5,n.payBackLoan(a);case 5:return o=e.sent,e.next=8,o.wait(1);case 8:u=e.sent,console.log(u),r("COMPLETE"),i(u.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),r("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(h.a.mark((function e(a){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,r("LOADING"),e.next=5,n.claim(a);case 5:return s=e.sent,e.next=8,s.wait(1);case 8:c=e.sent,console.log(c),r("COMPLETE"),i(c.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),r("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return{useOfferList:function(){var e=m(),t=e.offerList,a=e.setOfferList,r=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching offer list..."),e.next=3,n.callStatic.getOfferList();case 3:t=e.sent.map((function(e){return{id:e.id.toNumber(),collateral:e.collateral,collateralId:e.collateralId.toNumber(),credit:e.credit,creditAmount:e.creditAmount.toString(),creditToBePaidAmount:e.creditToBePaidAmount.toString(),duration:e.duration.toNumber(),state:e.state,lender:e.lender}})),console.log("Fetched offer list:"),console.log(t),a(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{offerList:t,fetchOfferList:r}},useLoanList:function(){var e=m(),t=e.loanList,a=e.setLoanList,r=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching loan list..."),e.next=3,n.callStatic.getLoanList();case 3:t=e.sent.map((function(e){return{id:e.id.toNumber(),acceptedOfferId:e.acceptedOfferId.toNumber(),borrower:e.borrower,expiration:e.expiration.toNumber(),state:e.state}})),console.log("Fetched loan list:"),console.log(t),a(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{loanList:t,fetchLoanList:r}},createLoanOffer:s,revokeOffer:c,acceptLoanOffer:o,repay:p,claim:l}},N=n(24),S=function(e){var t=e.offer,n=Object(u.b)(),r=(n.active,n.account,k(t.collateral)),i=r.getApproved,s=r.approve,c=M().acceptLoanOffer,o=Object(a.useState)("LOADING"),l=Object(p.a)(o,2),y=l[0],f=l[1],b=m().lastTxnHash,j=N.a.from(10).pow(18);function O(){return(O=Object(x.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t.collateralId);case 2:n=e.sent,f(n==E?"APPROVED":"NEED_APPROVE");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[b]),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t.id}),Object(d.jsx)("td",{children:N.a.from(t.creditAmount).div(j).toNumber()}),Object(d.jsx)("td",{children:N.a.from(t.creditToBePaidAmount).div(j).toNumber()}),Object(d.jsxs)("td",{children:[t.duration/86400," days"]}),Object(d.jsxs)("td",{children:["LOADING"==y&&Object(d.jsx)("p",{children:"loading..."}),"NEED_APPROVE"==y&&Object(d.jsx)(T.a,{size:"sm",variant:"warning",onClick:function(){return s(E,t.collateralId)},children:"Approve"}),"APPROVED"==y&&Object(d.jsx)(T.a,{size:"sm",variant:"success",onClick:function(){return c(t.id)},children:"Accept"})]})]},"offer"+t.id)},C=function(){var e,t=w(),n=t.fetchNftList,r=t.nftList,i=Object(u.b)(),s=i.active,c=i.account,p=M(),l=p.useOfferList,y=(p.acceptLoanOffer,p.useLoanList,l()),f=(y.fetchOfferList,y.offerList),b=m().lastTxnHash;function j(e){return e.map((function(e){return Object(d.jsx)(S,{offer:e})}))}return Object(a.useEffect)((function(){n()}),[c,s,b]),Object(d.jsxs)(o.a,{className:"p-3",children:[Object(d.jsxs)("h2",{children:["My NFTs (",r.length,")"]}),Object(d.jsxs)(v.a,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID #"}),Object(d.jsx)("th",{children:"Symbol"}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Address"})]})}),Object(d.jsx)("tbody",{children:(e=r,e.map((function(e,t){var n=function(e){return f.filter((function(t){return t.collateral.toLowerCase()==e.address.toLowerCase()&&t.collateralId==e.id&&"1"==t.state}))}(e);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.symbol}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.address})]},"nft"+e.id),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{}),Object(d.jsxs)("td",{colSpan:"3",children:[Object(d.jsxs)(v.a,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID #"}),Object(d.jsx)("th",{children:"Amount"}),Object(d.jsx)("th",{children:"Repay"}),Object(d.jsx)("th",{children:"Duration"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:j(n)})]}),0==n.length&&Object(d.jsx)(o.a,{className:"text-center",children:Object(d.jsx)("p",{children:"You have no pending offer for this NFT"})})]})]})]})})))})]}),0==r.length&&Object(d.jsx)(o.a,{className:"text-center",children:Object(d.jsx)("p",{children:"You have no NFTs"})})]})},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e?!!e&&"".concat(e.substring(0,t+2),"...").concat(e.substring(e.length-t-1)):""},P=function(e){var t=e.loan,n=e.offer,a=M().claim,r=N.a.from(10).pow(18);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("th",{children:t.id}),Object(d.jsx)("th",{children:D(t.borrower)}),Object(d.jsx)("th",{children:D(n.collateral)}),Object(d.jsx)("th",{children:n.collateralId}),Object(d.jsx)("th",{children:N.a.from(n.creditToBePaidAmount).div(r).toNumber()}),Object(d.jsx)("th",{children:new Date(1e3*t.expiration).toLocaleString()}),Object(d.jsx)("th",{children:function(e){switch(e.state){case 0:return"dead";case 1:return"running";case 2:return"paid back";case 3:return"expired";default:return"---"}}(t)}),Object(d.jsx)("th",{children:function(e){if(2==e.state||3==e.state)return Object(d.jsx)(T.a,{size:"sm",variant:"success",onClick:function(){return a(e.id)},children:"Claim"})}(t)})]})},_=function(e){var t=e.loan,n=Object(u.b)(),r=n.active,i=n.account,s=M().useOfferList,c=Object(a.useState)("LOADING"),o=Object(p.a)(c,2),l=o[0],y=o[1],f=s(),b=(f.fetchOfferList,f.offerList);return Object(a.useEffect)((function(){console.log("waitForOffers: "),null!=b&&b.length>0&&(console.log("waitForOffers: LOADED"),y("LOADED"))}),[i,r,b]),console.log("MyLendingListRowWrapper: ",l),Object(d.jsxs)(d.Fragment,{children:["LOADING"==l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("th",{children:t.id}),Object(d.jsx)("th",{colSpan:"7",children:"Loading..."})]}),"LOADED"==l&&Object(d.jsx)(P,{loan:t,offer:b[t.acceptedOfferId-1]})]})},R=function(){var e,t=M(),n=t.useLoanList,r=t.useOfferList,i=n(),s=i.fetchLoanList,c=i.loanList,p=r(),l=(p.fetchOfferList,p.offerList),y=Object(u.b)(),f=y.active,b=y.account,j=m().lastTxnHash;function O(){return c.filter((function(e,t){if(null!=b&&null!=l[e.acceptedOfferId-1])return 0!=e.state&&l[e.acceptedOfferId-1].lender.toLowerCase()==b.toLowerCase()}))}return Object(a.useEffect)((function(){f&&s()}),[f,b,l,j]),Object(d.jsxs)(o.a,{className:"p-3",children:[Object(d.jsxs)("h2",{children:["My lending (",O().length,")"]}),Object(d.jsxs)(v.a,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID #"}),Object(d.jsx)("th",{children:"Borrower"}),Object(d.jsx)("th",{children:"Coll Addr"}),Object(d.jsx)("th",{children:"Coll Id"}),Object(d.jsx)("th",{children:"Debt"}),Object(d.jsx)("th",{children:"Expiration"}),Object(d.jsx)("th",{children:"State"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:(e=O(),e.map((function(e){return Object(d.jsx)("tr",{children:Object(d.jsx)(_,{loan:e})},e.id)})))})]}),0==O().length&&Object(d.jsx)(o.a,{className:"text-center",children:Object(d.jsx)("p",{children:"You have no lending at the moment"})})]})},F=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],H=function(e){var t=Object(u.b)(),n=t.active,a=(t.account,m()),r=(a.txnStatus,a.setTxnStatus),i=a.setLastTxnHash,s=A(e,F),c=function(){var e=Object(x.a)(h.a.mark((function e(t,a){var c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}return e.prev=1,r("LOADING"),e.next=5,s.approve(t,a);case 5:return c=e.sent,e.next=8,c.wait(1);case 8:o=e.sent,console.log(o),r("COMPLETE"),i(o.transactionHash),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),r("ERROR");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(x.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,s.callStatic.allowance(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{approve:c,allowance:o}},B=function(e){var t=e.loan,n=e.offer,r=Object(u.b)(),i=r.active,s=r.account,c=M(),o=c.repay,l=c.useOfferList,y=Object(a.useState)("LOADING"),f=Object(p.a)(y,2),b=f[0],j=f[1],O=m().lastTxnHash,v=l(),w=(v.fetchOfferList,v.offerList,H(n.credit)),L=w.allowance,g=w.approve,A=N.a.from(10).pow(18);function k(){return(k=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(s,E);case 2:e.sent.lt(N.a.from(n.creditToBePaidAmount))?j("NEED_APPROVE"):j("APPROVED");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return S.apply(this,arguments)}function S(){return(S=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(E,n.creditToBePaidAmount);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return P.apply(this,arguments)}function P(){return(P=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t.id,n.credit,n.creditToBePaidAmount);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[s,i,O]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("th",{children:t.id}),Object(d.jsx)("th",{children:D(n.collateral)}),Object(d.jsx)("th",{children:n.collateralId}),Object(d.jsx)("th",{children:N.a.from(n.creditToBePaidAmount).div(A).toNumber()}),Object(d.jsx)("th",{children:new Date(1e3*t.expiration).toLocaleString()}),Object(d.jsx)("th",{children:function(e){switch(e.state){case 0:return"dead";case 1:return"running";case 2:return"paid back";case 3:return"expired";default:return"---"}}(t)}),Object(d.jsx)("th",{children:function(e){if(1==e.state)return Object(d.jsxs)(d.Fragment,{children:["LOADING"==b&&Object(d.jsx)(T.a,{size:"sm",variant:"success",disabled:!0,children:"Repay"}),"NEED_APPROVE"==b&&Object(d.jsx)(T.a,{size:"sm",variant:"warning",onClick:I,children:"Approve"}),"APPROVED"==b&&Object(d.jsx)(T.a,{size:"sm",variant:"success",onClick:C,children:"Repay"})]})}(t)})]})},G=function(e){var t=e.loan,n=Object(u.b)(),r=n.active,i=n.account,s=M().useOfferList,c=Object(a.useState)("LOADING"),o=Object(p.a)(c,2),l=o[0],y=o[1],f=s(),b=(f.fetchOfferList,f.offerList);return Object(a.useEffect)((function(){null!=b&&b.length>0&&y("LOADED")}),[i,r,b]),Object(d.jsxs)("tr",{children:["LOADING"==l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("th",{children:t.id}),Object(d.jsx)("th",{colSpan:"6",children:"Loading..."})]}),"LOADED"==l&&Object(d.jsx)(B,{loan:t,offer:b[t.acceptedOfferId-1]})]},t.id)},V=function(){var e=M(),t=e.useLoanList,n=e.useOfferList,r=(e.repay,t()),i=r.fetchLoanList,s=r.loanList,c=n(),p=(c.fetchOfferList,c.offerList),l=Object(u.b)(),y=l.active,f=l.account,b=m().lastTxnHash;function j(){return s.filter((function(e){if(null!=f)return 0!=e.state&&e.borrower.toLowerCase()==f.toLowerCase()}))}return Object(a.useEffect)((function(){y&&i()}),[y,f,p,b]),Object(d.jsxs)(o.a,{className:"p-3",children:[Object(d.jsxs)("h2",{children:["My borrowing (",j().length,")"]}),Object(d.jsxs)(v.a,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID #"}),Object(d.jsx)("th",{children:"Coll Addr"}),Object(d.jsx)("th",{children:"Coll ID"}),Object(d.jsx)("th",{children:"Debt"}),Object(d.jsx)("th",{children:"Expiration"}),Object(d.jsx)("th",{children:"State"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:(j(),j().map((function(e){return Object(d.jsx)(G,{loan:e})})))})]}),0==j().length&&Object(d.jsx)(o.a,{className:"text-center",children:Object(d.jsx)("p",{children:"You have no borrowing at the moment"})})]})},z=n(134),U=n(132),Y=n(15),X=function(e){var t=e.creditAddr,n=e.creditAmount,r=e.onSubmit,i=Object(a.useState)("NEED_APPROVE"),s=Object(p.a)(i,2),c=s[0],o=s[1],l=Object(u.b)(),y=l.active,f=l.account,b=l.library,j=m(),O=(j.txnStatus,j.setTxnStatus),v=j.lastTxnHash,w=j.setLastTxnHash,L=N.a.from(10).pow(18);function A(){return(A=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!Object(Y.e)(t)||null==f){e.next=7;break}return e.next=3,I(t).allowance(f,E);case 3:e.sent.lt(L.mul(n))?o("NEED_APPROVE"):o("APPROVED"),e.next=8;break;case 7:o("NOT_CONNECTED");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(x.a)(h.a.mark((function e(){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=18;break}return e.prev=1,O("LOADING"),e.next=5,I(t).approve(E,L.mul(n));case 5:return a=e.sent,e.next=8,a.wait(1);case 8:r=e.sent,console.log(r),O("COMPLETE"),w(r.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),O("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function I(e){var t=f?b.getSigner(f).connectUnchecked():b;return new g.b(e,F,t)}return Object(a.useEffect)((function(){!function(){A.apply(this,arguments)}()}),[f,y,t,n,v]),Object(d.jsxs)(d.Fragment,{children:["NOT_CONNECTED"==c&&Object(d.jsx)(T.a,{disabled:!0,children:"Make a new offer"}),"NEED_APPROVE"==c&&Object(d.jsx)(T.a,{onClick:function(){return k.apply(this,arguments)},variant:"warning",children:"Approve credit"}),"APPROVED"==c&&Object(d.jsx)(T.a,{onClick:r,children:"Make a new offer"})]})},J=function(){var e=M(),t=e.createLoanOffer,n=e.useOfferList,r=e.revokeOffer,i=n(),s=i.fetchOfferList,c=i.offerList,l=Object(u.b)(),y=l.active,f=l.account,b=m().lastTxnHash,j=Object(a.useState)(""),O=Object(p.a)(j,2),h=O[0],x=O[1],w=Object(a.useState)(),L=Object(p.a)(w,2),g=L[0],A=L[1],k=Object(a.useState)(""),I=Object(p.a)(k,2),E=I[0],S=I[1],C=Object(a.useState)(),P=Object(p.a)(C,2),_=P[0],R=P[1],F=Object(a.useState)(),H=Object(p.a)(F,2),B=H[0],G=H[1],V=Object(a.useState)(),Y=Object(p.a)(V,2),J=Y[0],W=Y[1],q=N.a.from(10).pow(18);Object(a.useEffect)((function(){y&&s()}),[f,b]);function K(){return c.filter((function(e,t){if(null!=f)return 1==e.state&&e.lender.toLowerCase()==f.toLowerCase()}))}function Q(e){switch(e.state){case 0:return"dead";case 1:return"open";case 2:return"accepted";default:return"---"}}function Z(e){if(1==e.state)return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(T.a,{size:"sm",variant:"danger",onClick:function(){return r(e.id)},children:"Revoke"})})}return Object(d.jsxs)(o.a,{className:"p-3",children:[Object(d.jsxs)("h2",{children:["My Offers (",K().length,")"]}),Object(d.jsxs)(v.a,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID #"}),Object(d.jsx)("th",{children:"Coll Addr"}),Object(d.jsx)("th",{children:"Coll ID"}),Object(d.jsx)("th",{children:"Amount"}),Object(d.jsx)("th",{children:"Repay"}),Object(d.jsx)("th",{children:"Duration"}),Object(d.jsx)("th",{children:"State"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:(K(),K().map((function(e,t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:e.id}),Object(d.jsx)("th",{children:D(e.collateral)}),Object(d.jsx)("th",{children:e.collateralId}),Object(d.jsx)("th",{children:N.a.from(e.creditAmount).div(q).toNumber()}),Object(d.jsx)("th",{children:N.a.from(e.creditToBePaidAmount).div(q).toNumber()}),Object(d.jsxs)("th",{children:[e.duration/86400," days"]}),Object(d.jsx)("th",{children:Q(e)}),Object(d.jsx)("th",{children:Z(e)})]},e.id)})))})]}),0==K().length&&Object(d.jsx)(o.a,{className:"text-center",children:Object(d.jsx)("p",{children:"You have no pending offer"})}),Object(d.jsx)("h4",{children:"New offer"}),Object(d.jsx)(z.a,{className:"p-3",children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(U.a.Control,{type:"text",value:h,onChange:function(e){x(e.target.value)},placeholder:"Collateral address"}),Object(d.jsx)(U.a.Control,{type:"number",value:g,onChange:function(e){A(e.target.value)},placeholder:"Collateral id"}),Object(d.jsx)(U.a.Control,{type:"text",value:E,onChange:function(e){S(e.target.value)},placeholder:"Credit address"}),Object(d.jsx)(U.a.Control,{type:"number",value:_,onChange:function(e){R(e.target.value)},placeholder:"Credit amount"}),Object(d.jsx)(U.a.Control,{type:"number",value:B,onChange:function(e){G(e.target.value)},placeholder:"Credit amount to be paid back"}),Object(d.jsx)(U.a.Control,{type:"number",value:J,onChange:function(e){W(e.target.value)},placeholder:"Duration (s)"}),Object(d.jsx)(X,{creditAddr:E,creditAmount:_,onSubmit:function(){return t(h,g,E,q.mul(_),q.mul(B),J)}})]})})]})},W=function(){return Object(d.jsxs)(o.a,{className:"mt-5",children:[Object(d.jsx)(C,{}),Object(d.jsx)(V,{}),Object(d.jsx)(R,{}),Object(d.jsx)(J,{})]})},q=n(131),K=new(n(100).a)({supportedChainIds:[4]}),Q=function(){var e=Object(u.b)(),t=e.activate,n=e.active,a=e.account,r=e.deactivate;function i(){window.localStorage.setItem("providerActivated",!0),t(K)}return n?Object(d.jsxs)(z.a,{className:"d-flex flex-row justify-content-between",style:{width:350},children:[Object(d.jsx)(z.a.Text,{className:"m-2",children:D(a,5)}),Object(d.jsx)(T.a,{onClick:function(){window.localStorage.removeItem("providerActivated"),r()},children:"Disconnect"})]}):"undefined"===typeof window.ethereum?Object(d.jsxs)(z.a,{className:"d-flex flex-row justify-content-between",style:{width:350},children:[Object(d.jsx)(z.a.Text,{className:"m-2",children:"Metamask not installed"}),Object(d.jsx)(T.a,{onClick:i,disabled:!0,children:"Connect"})]}):Object(d.jsxs)(z.a,{className:"d-flex flex-row justify-content-between",style:{width:350},children:[Object(d.jsx)(z.a.Text,{className:"m-2",children:"Not connected"}),Object(d.jsx)(T.a,{onClick:i,children:"Connect"})]})},Z=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"tokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"get",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"give",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getNFTList",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function",constant:!0}],$=function(){var e=Object(u.b)(),t=e.active,n=(e.account,m()),a=(n.txnStatus,n.setTxnStatus),r=n.setLastTxnHash,i=A("0xd8e80c411211eDf097ad8900D09D121ba957A63A",Z);function s(){return(s=Object(x.a)(h.a.mark((function e(){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,a("LOADING"),e.next=5,i.get();case 5:return n=e.sent,e.next=8,n.wait(1);case 8:s=e.sent,console.log(s),a("COMPLETE"),r(s.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),a("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return Object(d.jsx)(T.a,{onClick:function(){return s.apply(this,arguments)},disabled:!t,children:"Mint faucet NFT"})},ee=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"get",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"give",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],te=function(){var e=Object(u.b)(),t=e.active,n=(e.account,m()),a=(n.txnStatus,n.setTxnStatus),r=n.setLastTxnHash,i=A("0x6169F93B04A523f2a26d4FDF6bD620FdE3F51Db7",ee);function s(){return(s=Object(x.a)(h.a.mark((function e(){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,a("LOADING"),e.next=5,i.get(N.a.from(10).pow(18).mul(100));case 5:return n=e.sent,e.next=8,n.wait(1);case 8:s=e.sent,console.log(s),a("COMPLETE"),r(s.transactionHash),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),a("ERROR");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return Object(d.jsx)(T.a,{onClick:function(){return s.apply(this,arguments)},disabled:!t,children:"Mint 100 faucet ERC20 token"})},ne=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(q.a,{className:"justify-content-between",bg:"white",children:[Object(d.jsx)("h1",{children:"P2P Loan protocol"}),Object(d.jsx)($,{}),Object(d.jsx)(te,{}),Object(d.jsx)(Q,{})]})})},ae=n(133),re=function(){var e=m(),t=e.txnStatus,n=e.setTxnStatus;function a(){n("NOT_SUBMITTED")}return"LOADING"==t?Object(d.jsx)(ae.a,{variant:"warning",children:"Transaction is loading..."}):"ERROR"==t?Object(d.jsx)(ae.a,{variant:"danger",onClose:a,dismissible:!0,children:"Transaction failed!"}):"COMPLETE"==t?Object(d.jsx)(ae.a,{variant:"success",onClose:a,dismissible:!0,children:"Transaction successfully mined \ud83c\udf89"}):null};function ie(e){var t=e.children,n=Object(u.b)(),r=n.active,i=n.error,s=n.activate;return Object(a.useEffect)((function(){K.isAuthorized().then((function(e){var t=window.localStorage.getItem("providerActivated");e&&!r&&!i&&t&&s(K)}))}),[s,r,i]),t}function se(e){return new c.a.providers.Web3Provider(e)}var ce=function(){return Object(d.jsx)(j,{children:Object(d.jsx)(u.a,{getLibrary:se,children:Object(d.jsx)(ie,{children:Object(d.jsxs)(o.a,{className:"pb-5 pt-3",children:[Object(d.jsx)(re,{}),Object(d.jsx)(ne,{}),Object(d.jsx)(W,{})]})})})})};s.a.render(Object(d.jsx)(ce,{}),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.55a7d61d.chunk.js.map